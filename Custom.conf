[General]
loglevel = error

# DNS é…ç½® (è…¾è®¯ DNSPod + é˜¿é‡Œ DNS)
dns-server = system,119.29.29.29,223.5.5.5
skip-proxy = localhost,*.local,*.ts.net,captive.apple.com,e.crashlytics.com,passenger.t3go.cn,yunbusiness.ccb.com,wxh.wo.cn,gate.lagou.com,www.abchina.com.cn,login-service.mobile-bank.psbc.com,mobile-bank.psbc.com,10.0.0.0/8,100.64.0.0/10,169.254.0.0/16,172.16.0.0/12,192.168.0.0/16,224.0.0.0/4,::1/128,fc00::/7,fd00::/8,fe80::/10,ff00::/8,::ffff:0:0:0:0/96
# tun-excluded-routes = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
exclude-simple-hostnames = true
# read-etc-hosts = true

always-real-ip = *.lan,*.direct,cable.auth.com,*.msftconnecttest.com,*.msftncsi.com,network-test.debian.org,detectportal.firefox.com,resolver1.opendns.com,*.srv.nintendo.net,*.stun.playstation.net,xbox.*.microsoft.com,*.xboxlive.com,stun.*,global.turn.twilio.com,global.stun.twilio.com,app.yinxiang.com,injections.adguard.org,local.adguard.org,localhost.*.qq.com,localhost.*.weixin.qq.com,*.logon.battlenet.com.cn,*.logon.battle.net,*.blzstatic.cn,music.163.com,*.music.163.com,*.126.net,musicapi.taihe.com,music.taihe.com,songsearch.kugou.com,trackercdn.kugou.com,*.kuwo.cn,api-jooxtt.sanook.com,api.joox.com,joox.com,y.qq.com,*.y.qq.com,streamoc.music.tc.qq.com,mobileoc.music.tc.qq.com,isure.stream.qqmusic.qq.com,dl.stream.qqmusic.qq.com,aqqmusic.tc.qq.com,amobile.music.tc.qq.com,*.xiami.com,*.music.migu.cn,music.migu.cn,proxy.golang.org,*.mcdn.bilivideo.cn,*.cmpassport.com,id6.me,open.e.189.cn,opencloud.wostore.cn,id.mail.wo.cn,mdn.open.wo.cn,hmrz.wo.cn,nishub1.10010.com,enrichgw.10010.com,*.wosms.cn,*.jegotrip.com.cn,*.icitymobile.mobi,*.pingan.com.cn,*.cmbchina.com,*.10099.com.cn,*.microdone.cn,pool.ntp.org,*.pool.ntp.org,ntp.*.com,time.*.com,ntp?.*.com,time?.*.com,time.*.gov,time.*.edu.cn,*.ntp.org.cn,PDC._msDCS.*.*,DC._msDCS.*.*,GC._msDCS.*.*

# åŠ«æŒ DNS æŸ¥è¯¢åˆ° Surge DNS æ¨¡å—
hijack-dns = 8.8.8.8:53,8.8.4.4:53,1.1.1.1:53,1.0.0.1:53

# IPv6 æ”¯æŒï¼ˆæ€§èƒ½ä¼˜å…ˆï¼šå…³é—­ä»¥å‡å°‘éƒ¨åˆ†ç½‘ç»œç¯å¢ƒä¸‹çš„è¿æ¥å›é€€å¼€é”€ï¼‰
ipv6 = false
ipv6-vif = auto

http-listen = 0.0.0.0:8888
socks5-listen = 0.0.0.0:8889
wifi-access-http-port = 8888
wifi-access-socks5-port = 8889

external-controller-access = dler@0.0.0.0:6170
http-api = dler@0.0.0.0:6171
http-api-web-dashboard = true
proxy-restricted-to-lan = true

internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3

proxy-test-udp = cp.cloudflare.com@1.1.1.1
network-framework = true

allow-wifi-access = true
show-error-page-for-reject = false
# UDP ç›¸å…³ç­–ç•¥
udp-policy-not-supported-behaviour = DIRECT
udp-priority = true
wifi-assist = false
# æ··åˆç½‘ç»œæ¨¡å¼ (v6 æ–°åŠŸèƒ½)
# all-hybrid = true
# hybrid-text-separate-line = true

[Replica]
# åŸºç¡€éšè—é€‰é¡¹
hide-apple-request = true
hide-crash-reporter-request = true
hide-udp = false
keyword-filter-type = blacklist

[Proxy]

[Proxy Group]
Proxy = select,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
HTTPDNS = select,REJECT,DIRECT,Proxy
AI = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Media = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
TikTok = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Apple = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
GitHub = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Telegram = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Mail = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
SMM = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
PayPal = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Stripe = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Crypto = select,Proxy,DIRECT,ğŸ‡­ğŸ‡° HK,ğŸ‡¼ğŸ‡¸ TW,ğŸ‡¸ğŸ‡¬ SG,ğŸ‡ºğŸ‡² US,ğŸ‡¯ğŸ‡µ JP
Speed = select,DIRECT,Proxy

# æ™ºèƒ½ä»£ç†ç»„ (v6 ä¼˜åŒ–)
ğŸ‡­ğŸ‡° HK = smart, include-all-proxies=1, policy-regex-filter=(?!.*(Game))(æ¸¯|Hong|HK), interval=600, timeout=2, evaluate-before-use=true
ğŸ‡ºğŸ‡² US = smart, include-all-proxies=1, policy-regex-filter=(?!.*(Game))(ç¾|States|US), interval=600, timeout=2, evaluate-before-use=true
ğŸ‡¼ğŸ‡¸ TW = smart, include-all-proxies=1, policy-regex-filter=(?!.*(Game))(å°|Tai|TW), interval=600, timeout=2, evaluate-before-use=true
ğŸ‡¸ğŸ‡¬ SG = smart, include-all-proxies=1, policy-regex-filter=(?!.*(Game))(æ–°|Singapore|SG), interval=600, timeout=2, evaluate-before-use=true
ğŸ‡¯ğŸ‡µ JP = smart, include-all-proxies=1, policy-regex-filter=(?!.*(Game))(æ—¥|Japan|JP), interval=600, timeout=2, evaluate-before-use=true
# ğŸ¥ NF = select, include-all-proxies=1, policy-regex-filter=(NF)|(å¥ˆé£)|(Netflix)|(video)|(Video)|(nf), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150

[Rule]
# ====== 1. Custom Private ======
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/reject.list,REJECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/direct.list,DIRECT,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/proxy.list,Proxy,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/stripe.list,Stripe,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/ssh.list,Mail,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/smm.list,SMM,extended-matching
RULE-SET,https://raw.githubusercontent.com/conversun/SurgeRule/main/ai.list,AI,extended-matching

# ====== 2. HTTPDNS ======
RULE-SET,https://testingcf.jsdelivr.net/gh/dler-io/Rules@main/Surge/Surge%203/Provider/HTTPDNS.list,HTTPDNS,extended-matching

# ====== 3. å¹¿å‘Šæ‹¦æˆª ======
RULE-SET,https://cdn.jsdelivr.net/gh/TG-Twilight/AWAvenue-Ads-Rule@main/Filters/AWAvenue-Ads-Rule-Surge.list,REJECT,extended-matching

# ====== 4. ç›´è¿è¦†ç›– ======
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_cn.conf,DIRECT,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/ChinaMedia/ChinaMedia.list,DIRECT,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/SteamCN/SteamCN.list,DIRECT,extended-matching

# ====== 5. AI æœåŠ¡ ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Claude/Claude.list,AI,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/OpenAI/OpenAI.list,AI,extended-matching
RULE-SET,https://testingcf.jsdelivr.net/gh/dler-io/Rules@main/Surge/Surge%203/Provider/AI%20Suite.list,AI,extended-matching

# ====== 6. æµåª’ä½“ ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Netflix/Netflix.list,Media,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/TikTok/TikTok.list,TikTok,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/YouTube/YouTube.list,Media,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GlobalMedia/GlobalMedia.list,Media,extended-matching

# ====== 7. æœåŠ¡ ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Apple/Apple.list,Apple,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GitHub/GitHub.list,GitHub,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Telegram/Telegram.list,Telegram,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Mail/Mail.list,Mail,extended-matching

# ====== 8. é‡‘è ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Crypto/Crypto.list,Crypto,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/PayPal/PayPal.list,PayPal,extended-matching

# ====== 9. å·¥å…· ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Speedtest/Speedtest.list,Speed,extended-matching

# ====== 10. å…œåº• ======
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Global/Global.list,Proxy,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/China/China.list,DIRECT,extended-matching
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Lan/Lan.list,DIRECT,extended-matching

RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT,no-resolve
FINAL,Proxy,dns-failed
  
[Host]
ip6-localhost = ::1
ip6-loopback = ::1
taobao.com = server:223.6.6.6
*.taobao.com = server:223.6.6.6
tmall.com = server:223.6.6.6
*.tmall.com = server:223.6.6.6
jd.com = server:119.29.29.29
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
weixin.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*.hdslb.com = server:119.29.29.29
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
routerlogin.net = server:system
_hotspot_.m2m = server:system
router.asus.com = server:system
hotspot.cslwifi.com = server:system
amplifi.lan = server:system
*.lan = server:system
*.local = server:system
*.arpa = server:system

[URL Rewrite]

[Script]

[MITM]
skip-server-cert-verify = true
h2 = true

hostname-disabled = %INSERT% gateway.icloud.com,gateway.icloud.com.cn,weather-data.apple.com,buy.itunes.apple.com

ca-passphrase = Dler
ca-p12 = MIIDGgIBAzCCAuAGCSqGSIb3DQEHAaCCAtEEggLNMIICyTCCAb8GCSqGSIb3DQEHBqCCAbAwggGsAgEAMIIBpQYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQI5e4W8st2yMMCAggAgIIBeBDhcB5oCpEtPyamF2QSSZMoKnIQ9idB7/spS4BgYMq/zDT8c7SDSKM746+4D98feqkJmAYFUWlXtXOHwSR8QlFad9dTYw4SulHDpDAVr/+da6iCX+LeQuducormCI6xVcmpfZ8qvHWzpfHy5mrKxkuyj5OHlehvYOedDZ9P9s9ME2qZFsffKC4kk398QPjoBMLCb73m7QcFdzdus7NuVAd/kYZRww7ODcXcb5a45Yv4NeRwRjnVT8eCgjGXjJXQgJPAtyAWPLW+o1uS132Qdkmg+8EjwuxL/lOu3rLKh0gWWUFHcxv2rg4OcezyoZuv70zs3A8Ju3wmQ6oZuakeRuRyKu6+9BtgOqxnoBwvTMCI4saY8E318DWZjBOzg9N2vPOhKDeoh8ES9TAbRlcp5Bnp5TWrPhae+XeHlHde5KCr3kjB15/DAhrlh7+ht18I/p1shnRKAd1tH6p62to51j9mSHNxOFFCbBPiFqBSnPmuV2SSOOYHcjUwggECBgkqhkiG9w0BBwGggfQEgfEwge4wgesGCyqGSIb3DQEMCgECoIG0MIGxMBwGCiqGSIb3DQEMAQMwDgQI/FfHqSBxFUoCAggABIGQIJa8eopsdqunR4ZwxWt/ThhdkRw2LFHTbgg5jWdAUQfK2b+I6+Wk9Dimdb2xGzAaYcAVt3ArbfuDTjDUTI4m3pzXBe/edyeXagr6i6DgM9TluB4OsG6hC/MFtF3rvqnCT3DGf5b48hSj0Y5OfJy+iFXmasxtwVIf4pFFylXOOJeJdQry1NgImb0nZwsS8NJAMSUwIwYJKoZIhvcNAQkVMRYEFHijHPCciGG5pbv+qBYZvjpHBIFnMDEwITAJBgUrDgMCGgUABBSxzZGBSpKB8R5FQ6wdiWxFka+xcgQIxB+kS2hfUpkCAggA
