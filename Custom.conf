[General]
loglevel = notify

dns-server = system, 223.5.5.5, 119.29.29.29
# doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query
skip-proxy = localhost, *.local, passenger.t3go.cn, e.crashlytics.com, captive.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, *.id.ui.direct, www.baidu.com, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, mbank.psbc.com, ibfp.psbc.com, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/8, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
exclude-simple-hostnames = true

always-real-ip = *.126.net, *.blzstatic.cn, *.cmpassport.com, *.home.arpa, *.icitymobile.mobi, *.jegotrip.com.cn, *.kuwo.cn, *.lan, *.linksys.com, *.localhost, *.localdomain, *.logon.battle.net, *.logon.battlenet.com.cn, *.mcdn.bilivideo.cn, *.msftconnecttest.com, *.msftncsi.com, *.music.163.com, *.music.migu.cn, *.ntp.org.cn, *.pool.ntp.org, *.srv.nintendo.net, *.stun.playstation.net, *.xboxlive.com, *.xiami.com, *.y.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, api.joox.com, api-jooxtt.sanook.com, auth.wosms.cn, cable.auth.com, DC._msDCS.*.*, detectportal.firefox.com, dl.stream.qqmusic.qq.com, GC._msDCS.*.*, global.stun.twilio.com, global.turn.twilio.com, id6.me, isure.stream.qqmusic.qq.com, joox.com, localhost.ptlogin2.qq.com, localhost.*.qq.com, mdn.open.wo.cn, mobileoc.music.tc.qq.com, music.163.com, music.migu.cn, music.taihe.com, musicapi.taihe.com, ntp.*.com, ntp?.*.com, ntp1.*.com, ntp2.*.com, ntp3.*.com, ntp4.*.com, ntp5.*.com, ntp6.*.com, ntp7.*.com, open.e.189.cn, opencloud.wostore.cn, PDC._msDCS.*.*, pingan.com.cn, pool.ntp.org, proxy.golang.org, resolver1.opendns.com, songsearch.kugou.com, streamoc.music.tc.qq.com, stun.*, stun.*.*.*, time.*.com, time.*.gov, time.*.edu.cn, time.*.apple.com, time?.*.com, time1.*.com, time1.cloud.tencent.com, time2.*.com, time2.*.com, time3.*.com, time3.*.com, time4.*.com, time4.*.com, time5.*.com, time5.*.com, time6.*.com, time6.*.com, time7.*.com, time7.*.com, time8.*.com, time8.*.com, time9.*.com, time9.*.com, trackercdn.kugou.com, xbox.*.microsoft.com

hijack-dns = 8.8.8.8:53, 8.8.4.4:53, 1.1.1.1:53, 1.0.0.1:53

http-listen = 0.0.0.0:8888
socks5-listen = 0.0.0.0:8889
wifi-access-http-port = 8888
wifi-access-socks5-port = 8889

external-controller-access = dler@0.0.0.0:6170
http-api = dler@0.0.0.0:6171
http-api-web-dashboard = true

internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3

allow-wifi-access = true
exclude-simple-hostnames = true
show-error-page-for-reject = true
use-default-policy-if-wifi-not-primary = false
wifi-assist = true
udp-priority = true
ipv6 = false
all-hybrid=true

always-real-ip = link-ip.nextdns.io, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

[Replica]
hide-apple-request = true
hide-crash-reporter-request = true
hide-udp = false
keyword-filter-type = false

[SSID Setting]
"SoCloud" suspend=true

[Proxy]


[Proxy Group]
Proxy = select,Smart,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP,Manual
Manual = select,include-all-proxies=1
Static = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Stream = select,Proxy,Smart,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Telegram = select,Proxy,Smart,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
TikTok = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
AI = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Adobe = select,Proxy,DIRECT,REJECT,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
PayPal = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Stripe = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Crypto = select,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Apple = select,DIRECT,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Game = select,DIRECT,Proxy,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
Git = select,Proxy,Smart,Manual,🇭🇰 HK,🇨🇳 TW,🇸🇬 SG,🇺🇲 US,🇯🇵 JP
SSH = select,Proxy,Smart,Manual
Speed = select,DIRECT,Proxy

🇭🇰 HK = url-test, include-all-proxies=1, policy-regex-filter=(🇭🇰)|(港)|(Hong)|(HK), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
🇺🇲 US = url-test, include-all-proxies=1, policy-regex-filter=(🇺🇸)|(美)|(States)|(US), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
🇨🇳 TW = url-test, include-all-proxies=1, policy-regex-filter=(🇨🇳)|(台)|(Tai)|(TW), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
🇸🇬 SG = url-test, include-all-proxies=1, policy-regex-filter=(🇸🇬)|(新)|(Singapore)|(SG), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
🇯🇵 JP = url-test, include-all-proxies=1, policy-regex-filter=(🇯🇵)|(日)|(Japan)|(JP), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
🎥 NF = select, include-all-proxies=1, policy-regex-filter=(NF)|(奈飞)|(Netflix)|(video)|(Video)|(nf), url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
Smart = smart

[Rule]

# Private
RULE-SET,https://fastly.jsdelivr.net/gh/conversun/SurgeRule@main/direct.list,DIRECT,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/conversun/SurgeRule@main/proxy.list,Proxy,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/conversun/SurgeRule@main/ssh.list,SSH,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/conversun/SurgeRule@main/stripe.list,Stripe,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/conversun/SurgeRule@main/cmb.list,Crypto,update-interval=86400

# Custom
RULE-SET,https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Game/Game.list,Game,update-interval=86400

# DOMAIN
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/cdn.conf,Static,update-interval=86400
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/speedtest.conf,Speed,update-interval=86400
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/apple_cdn.conf,DIRECT,update-interval=86400
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/download.conf,DIRECT,update-interval=86400

# Non-IP
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/GitHub/GitHub.list,Git,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/cdn.conf,Static,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/stream.conf,Stream,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/telegram.conf,Telegram,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/ai.conf,AI,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_services.conf,Apple,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft.conf,Proxy,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/global.conf,Proxy,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/microsoft_cdn.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/apple_cn.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/download.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/lan.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/domestic.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/direct.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/non_ip/neteasemusic.conf,DIRECT,update-interval=86400

# IP
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/TikTok/TikTok.list,TikTok,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/PayPal/PayPal.list,PayPal,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Crypto/Crypto.list,Crypto,update-interval=86400
RULE-SET,https://fastly.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Surge/Adobe/Adobe.list,Adobe,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/ip/stream.conf,Stream,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/ip/lan.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/ip/china_ip.conf,DIRECT,update-interval=86400
RULE-SET,https://ruleset.skk.moe/List/ip/neteasemusic.conf,DIRECT,update-interval=86400

RULE-SET, LAN, DIRECT

GEOIP, CN, DIRECT
FINAL, Proxy, dns-failed

[Host]
ip6-localhost = ::1
ip6-loopback = ::1
taobao.com = server:223.6.6.6
*.taobao.com = server:223.6.6.6
tmall.com = server:223.6.6.6
*.tmall.com = server:223.6.6.6
jd.com = server:119.29.29.29
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
weixin.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*.hdslb.com = server:119.29.29.29
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
routerlogin.net = server:system
_hotspot_.m2m = server:system
router.asus.com = server:system
hotspot.cslwifi.com = server:system
amplifi.lan = server:system
*.lan = server:system

dler.cloud = server:https://dns.alidns.com/dns-query
*.qiangdong.xyz = server:https://dns.alidns.com/dns-query

conver.cc = server:119.29.29.29
dsm.socloud.ltd = server:119.29.29.29

[URL Rewrite]

[Script]
# > Bilibili
http-response ^https?://app\.bilibili\.com/x/v\d/splash/list script-path=https://cdn.jsdelivr.net/gh/srk24/profile@master/js/bilibili_splash.js

# > TestFlight
http-request ^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$ requires-body=1,max-size=0,script-path=https://gist.githubusercontent.com/NobyDa/9be418b93afc5e9c8a8f4d28ae403cf2/raw/TF_Download.js

netflix_check = type=generic, script-path=https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%204/Script/netflix_check.js, argument=title=Netflix
youtube_check = type=generic, script-path=https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%204/Script/youtube_check.js, argument=title=YouTube Premium

[Panel]
netflix_check=script-name=netflix_check, update-interval=1
youtube_check=script-name=youtube_check, update-interval=1

[MITM]
skip-server-cert-verify = true
tcp-connection = false

hostname = *.nevercode.net, *.chelaile.net.cn, *.cnbetacdn.com, *.didistatic.com, *.google.cn, *.google-analytics.com, *.iydsj.com, *.k.sohu.com, *.kfc.com, *.kingsoft-office-service.com, *.meituan.net, *.ofo.com, *.pixiv.net, *.wikipedia.org, *.wikiwand.com, *.ydstatic.com, *.youdao.com, *.zhuishushenqi.com, *.zymk.cn, 101.201.62.22, 113.105.222.132, 113.96.109.*, 118.178.214.118, 119.18.193.135, 121.14.89.216, 121.9.212.178, 123.59.31.1, 14.21.76.30, 153.3.236.81, 180.101.212.22, 183.232.237.194, 183.232.246.225, 183.60.159.227, 218.11.3.70, 59.151.53.6, 59.37.96.220, 789.kakamobi.cn, a.apicloud.com, a.applovin.com, a.qiumibao.com, a.sfansclub.com, a.wkanx.com, aarkissltrial.secure2.footprint.net, acs.m.taobao.com, act.vip.iqiyi.com, activity2.api.ofo.com, adm.10jqka.com.cn, ads-img-al.xhscdn.com, adse.ximalaya.com, afd.baidu.com, amap-aos-info-nogw.amap.com, api-access.pangolin-sdk-toutiao.com, api-mifit-cn2.zepp.com, api*.musical.ly, api*.tiktokv.com, api.abema.io, api.app.vhall.com, api.bilibili.com, api.chelaile.net.cn, api.daydaycook.com.cn, api.feng.com, api.fengshows.com, api.gotokeep.com, api.huomao.com, api.intsig.net, api.jxedt.com, api.k.sohu.com, api.kkmh.com, api.laifeng.com, api.m.jd.com, api.mddcloud.com.cn, api.mgzf.com, api.psy-1.com, api.rr.tv, api.smzdm.com, api.tv.sohu.com, api.wallstreetcn.com, api.xiachufang.com, api.zhuishushenqi.com, api5.futunn.com, api-mifit.huami.com, api-mifit-cn.huami.com, api-release.wuta-cam.com, app.10086.cn, app.58.com, app.api.ke.com ,app.biliintl.com, app.m.zj.chinamobile.com, app.mixcapp.com, app.variflight.com, app.wy.guahao.com, api3.cls.cn, appsdk.soku.com, atrace.chelaile.net.cn, b.zhuishushenqi.com, c.m.163.com, cap.caocaokeji.cn, capi.douyucdn.cn, capi.mwee.cn, cdn.fivecdm.com, cdn.kuaidi100.com, cdn.moji.com, channel.beitaichufang.com, classbox2.kechenggezi.com, client.mail.163.com, cms.daydaycook.com.cn, cn-acs.m.cainiao.com, connect.facebook.net, creatives.ftimg.net, creditcard.ecitic.com, d.1qianbao.com, daoyu.sdo.com, dapis.mting.info, dl.app.gtja.com, dongfeng.alicdn.com, discardrp.umetrip.com, dsp-impr2.youdao.com, dspsdk.abreader.com, e.dangdang.com, edith.xiaohongshu.com, esdk.tymcdn.com, explorer.tratao.com, fdfs.xmcdn.com, fm.fenqile.com, fuss10.elemecdn.com, g1.163.com, gab.122.gov.cn, gateway.abite.com, gateway.shouqiev.com, shopapi.io.mi.com, gorgon.youdao.com, gw.alicdn.com, gw-passenger.01zhuanche.com, home.mi.com, hm.xiaomi.com, hui.sohu.com, huichuan.sm.cn, i.weread.qq.com, i.ys7.com, i1.hoopchina.com.cn, iapi.bishijie.com, iface.iqiyi.com, iface2.iqiyi.com, img.jiemian.com, img.zuoyebang.cc, img01.10101111cdn.com, img1.126.net, img2.autoimg.cn, impservice.dictapp.youdao.com, impservice.youdao.com, interface.music.163.com, ios.wps.cn, issuecdn.baidupcs.com, kano.guahao.cn, lives.l.qq.com, m*.amap.com, m.aty.sohu.com, m.client.10010.com, m.creditcard.ecitic.com, m.ibuscloud.com, m.yap.yahoo.com, ma.ofo.com, mage.if.qidian.com, mapi.appvipshop.com, mapi.mafengwo.cn, mbasecc.bas.cmbchina.com, mbl.56.com, media.qyer.com, mi.gdt.qq.com, mimg.127.net, mmg.aty.sohu.com, mmgr.gtimg.com, mob.mddcloud.com.cn, mobile-api2011.elong.com, mp.weixin.qq.com, mrobot.pcauto.com.cn, mrobot.pconline.com.cn, ms.jr.jd.com, msspjh.emarbox.com, newclient.map.baidu.com, newsso.map.qq.com, nex.163.com, nnapp.cloudbae.cn, open.qyer.com, optimus-ads.amap.com, p.kuaidi100.com, p1.music.126.net, pan.baidu.com, passport.biliintl.com, pic.k.sohu.com, pic1.chelaile.net.cn, pic1cdn.cmbchina.com, pic2.zhimg.com, portal-xunyou.qingcdn.com, pss.txffp.com, r.inews.qq.com, render.alipay.com, render-oss-cdn.amap.com, resource.cmbchina.com, res-release.wuta-cam.com, ress.dxpmedia.com, richmanapi.jxedt.com, rm.aarki.net, rtbapi.douyucdn.cn, service.4gtv.tv, shop-api.retail.mi.com, slapi.oray.net, smkmp.96225.com, snailsleep.net, sns.amap.com, sp.kaola.com, ssl.kohsocialapp.qq.com, sso.ifanr.com, ssp.dzh.com.cn, static.api.m.panda.tv, static.vuevideo.net, static1.keepcdn.com, staticlive.douyucdn.cn, startup.umetrip.com, support.you.163.com, supportda.ofo.com, testflight.apple.com, thor.weidian.com, ups.youku.com, venus.yhd.com, wapwenku.baidu.com, wenku.baidu.com, www.dandanzan.com, www.facebook.com, www.firefox.com.cn, www.flyertea.com, www.ft.com, www.oschina.net, www.xiaohongshu.com, zhidao.baidu.com, zone.guiderank-app.com

enable = true
ca-passphrase = Dler
ca-p12 = MIIDGgIBAzCCAuAGCSqGSIb3DQEHAaCCAtEEggLNMIICyTCCAb8GCSqGSIb3DQEHBqCCAbAwggGsAgEAMIIBpQYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQI5e4W8st2yMMCAggAgIIBeBDhcB5oCpEtPyamF2QSSZMoKnIQ9idB7/spS4BgYMq/zDT8c7SDSKM746+4D98feqkJmAYFUWlXtXOHwSR8QlFad9dTYw4SulHDpDAVr/+da6iCX+LeQuducormCI6xVcmpfZ8qvHWzpfHy5mrKxkuyj5OHlehvYOedDZ9P9s9ME2qZFsffKC4kk398QPjoBMLCb73m7QcFdzdus7NuVAd/kYZRww7ODcXcb5a45Yv4NeRwRjnVT8eCgjGXjJXQgJPAtyAWPLW+o1uS132Qdkmg+8EjwuxL/lOu3rLKh0gWWUFHcxv2rg4OcezyoZuv70zs3A8Ju3wmQ6oZuakeRuRyKu6+9BtgOqxnoBwvTMCI4saY8E318DWZjBOzg9N2vPOhKDeoh8ES9TAbRlcp5Bnp5TWrPhae+XeHlHde5KCr3kjB15/DAhrlh7+ht18I/p1shnRKAd1tH6p62to51j9mSHNxOFFCbBPiFqBSnPmuV2SSOOYHcjUwggECBgkqhkiG9w0BBwGggfQEgfEwge4wgesGCyqGSIb3DQEMCgECoIG0MIGxMBwGCiqGSIb3DQEMAQMwDgQI/FfHqSBxFUoCAggABIGQIJa8eopsdqunR4ZwxWt/ThhdkRw2LFHTbgg5jWdAUQfK2b+I6+Wk9Dimdb2xGzAaYcAVt3ArbfuDTjDUTI4m3pzXBe/edyeXagr6i6DgM9TluB4OsG6hC/MFtF3rvqnCT3DGf5b48hSj0Y5OfJy+iFXmasxtwVIf4pFFylXOOJeJdQry1NgImb0nZwsS8NJAMSUwIwYJKoZIhvcNAQkVMRYEFHijHPCciGG5pbv+qBYZvjpHBIFnMDEwITAJBgUrDgMCGgUABBSxzZGBSpKB8R5FQ6wdiWxFka+xcgQIxB+kS2hfUpkCAggA

